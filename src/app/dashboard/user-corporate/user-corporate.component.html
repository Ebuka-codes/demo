<div class="user-corporate">
  <div class="header">
    <div class="title">
      <span class="nav-back" (click)="onNavigateBack()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="size-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M15.75 19.5 8.25 12l7.5-7.5"
          />
        </svg>
      </span>
      <h2>Edit Corporate</h2>
    </div>
    <span
      class="job-url"
      (click)="onCopyUrl()"
      placement="bottom"
      ngbTooltip="Copy job url"
      ><p>{{ jobListingUrl | slice : 0 : 50 }}...</p>
      <svg
        width="17"
        height="18"
        viewBox="0 0 17 18"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clip-path="url(#clip0_3313_45552)">
          <path
            d="M14.0008 6.89844H7.70078C6.92758 6.89844 6.30078 7.52524 6.30078 8.29844V14.5984C6.30078 15.3716 6.92758 15.9984 7.70078 15.9984H14.0008C14.774 15.9984 15.4008 15.3716 15.4008 14.5984V8.29844C15.4008 7.52524 14.774 6.89844 14.0008 6.89844Z"
            stroke="black"
            stroke-width="1.4"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M3.50039 11.1H2.80039C2.42909 11.1 2.07299 10.9525 1.81044 10.6899C1.54789 10.4274 1.40039 10.0713 1.40039 9.7V3.4C1.40039 3.0287 1.54789 2.6726 1.81044 2.41005C2.07299 2.1475 2.42909 2 2.80039 2H9.10039C9.47169 2 9.82779 2.1475 10.0903 2.41005C10.3529 2.6726 10.5004 3.0287 10.5004 3.4V4.1"
            stroke="black"
            stroke-width="1.4"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </g>
        <defs>
          <clipPath id="clip0_3313_45552">
            <rect
              width="16.8"
              height="16.8"
              fill="white"
              transform="translate(0 0.601562)"
            />
          </clipPath>
        </defs>
      </svg>
    </span>
  </div>
  <div class="content">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="corporateName"
          >Corporate Name <span class="required-icon"> *</span></label
        >
        <input type="text" formControlName="name" [disabled]="true" />
        <div *ngIf="name?.invalid && name?.touched">
          <small class="text-danger" *ngIf="name?.errors?.['required']">
            Corporate Name field is required
          </small>
        </div>
      </div>
      <div class="form-group">
        <label for="address"
          >Address <span class="required-icon"> *</span></label
        >
        <input type="text" formControlName="address" />
        <div *ngIf="address?.invalid && address?.touched">
          <small class="text-danger" *ngIf="address?.errors?.['required']">
            Address field is required
          </small>
        </div>
      </div>
      <div class="form-group">
        <label for="email"
          >Email Address <span class="required-icon"> *</span></label
        >
        <input type="email" formControlName="email" />
        <div *ngIf="email?.invalid && email?.touched">
          <small class="text-danger" *ngIf="email?.errors?.['required']">
            Email field is required
          </small>
          <small
            class="text-danger"
            *ngIf="!email?.errors?.['required'] && email?.errors?.['invalidEmail']"
            >Invalid email format</small
          >
        </div>
      </div>
      <div class="form-group">
        <label for="phone">Phone Number </label>
        <input type="text" formControlName="phone" />
      </div>

      <div class="form-group">
        <label for="hmCode">HmCode <span class="required-icon"> *</span></label>
        <input type="text" formControlName="hmCode" />
        <div *ngIf="hmCode?.invalid && hmCode?.touched">
          <small class="text-danger" *ngIf="hmCode?.errors?.['required']">
            HmCode field is required
          </small>
        </div>
      </div>

      <div class="file-wrapper">
        <label>Logo </label>
        <div
          class="file-wrapper_content"
          (click)="!file ? triggerInput() : null"
          [style.cursor]="file ? 'default' : 'pointer'"
          (dragover)="onDragOver($event)"
          (dragleave)="onDragLeave($event)"
          (drop)="onDrop($event)"
        >
          <span class="file-bg">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="size-6 file"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"
              />
            </svg>
          </span>
          <span class="file-info">
            <p>
              <strong style="color: #28a745">Click to upload</strong> or drag
              and drop
            </p>
            <p style="font-size: 12px">(Max file size 1MB)</p>
          </span>

          <input
            #fileInput
            type="file"
            accept=".jpg,.png,.jpeg,"
            class="visually-hidden"
            (change)="onFileChange($event)"
          />
        </div>

        <div *ngIf="file" class="file-wrapper__doc">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-3 file"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"
            />
          </svg>

          <span>{{ file | slice : 0 : 20 }}...</span>

          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-3 cancel"
            (click)="removeFile()"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
            />
          </svg>
        </div>
      </div>
      <button class="submit-btn" [disabled]="isLoadingLogo || submitLoading">
        <ng-container *ngIf="!submitLoading; else showLoader">
          Submit
        </ng-container>
        <ng-template #showLoader>
          <span class="mini-loader-spinner"></span>
        </ng-template>
      </button>
    </form>
  </div>
</div>
